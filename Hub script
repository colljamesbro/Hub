-- Checking if player has enough points to open the door
setPointsButton.MouseButton1Click:Connect(function()
    local bananas = tonumber(bananasInput.Text)
    local snowflakes = tonumber(snowflakesInput.Text)

    -- Check if valid Bananas and Snowflakes input
    if bananas and bananas >= 0 then
        -- Set Bananas (visual update)
        if player:FindFirstChild("leaderstats") then
            local leaderstats = player.leaderstats
            local bananasStat = leaderstats:FindFirstChild("Bananas")
            if bananasStat then
                bananasStat.Value = bananas
                bananasInput.Text = ""  -- Clear input
            end
        end
    end

    if snowflakes and snowflakes >= 0 then
        -- Set Snowflakes (visual update)
        if player:FindFirstChild("leaderstats") then
            local leaderstats = player.leaderstats
            local snowflakesStat = leaderstats:FindFirstChild("Snowflakes")
            if snowflakesStat then
                snowflakesStat.Value = snowflakes
                snowflakesInput.Text = ""  -- Clear input
            end
        end
    end

    -- Check if player has enough Snowflakes and Bananas to open the door
    local requiredBananas = 50  -- Set the required amount of Bananas to open the door
    local requiredSnowflakes = 50  -- Set the required amount of Snowflakes to open the door

    local bananasStat = player.leaderstats and player.leaderstats:FindFirstChild("Bananas")
    local snowflakesStat = player.leaderstats and player.leaderstats:FindFirstChild("Snowflakes")

    if bananasStat and snowflakesStat and bananasStat.Value >= requiredBananas and snowflakesStat.Value >= requiredSnowflakes then
        -- Open the door (change transparency or position)
        local door = workspace:FindFirstChild("GP Door") or workspace:FindFirstChild("door")  -- Check for both possible names
        if door then
            -- Option 1: Move the door (or make it disappear)
            door.Position = door.Position + Vector3.new(0, 10, 0)  -- Move it up to simulate "opening"
            
            -- Option 2: Change transparency (make the door invisible)
            door.Transparency = 1
            door.CanCollide = false  -- Disable collision so the player can walk through it
            
            print("Door opened!")
        else
            print("Door not found!")
        end
    else
        -- Inform the player they don't have enough points
        print("Not enough points. You need at least " .. requiredBananas .. " Bananas and " .. requiredSnowflakes .. " Snowflakes to open the door.")
    end
end)
