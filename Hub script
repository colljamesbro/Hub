-- GUI Setup
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create Password GUI
local screenGui = Instance.new("ScreenGui", playerGui)
screenGui.Name = "PasswordHub"

-- Password Entry UI
local passwordFrame = Instance.new("Frame", screenGui)
passwordFrame.Size = UDim2.new(0.4, 0, 0.4, 0)
passwordFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
passwordFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)

local passwordLabel = Instance.new("TextLabel", passwordFrame)
passwordLabel.Size = UDim2.new(1, 0, 0.2, 0)
passwordLabel.Position = UDim2.new(0, 0, 0, 0)
passwordLabel.Text = "Enter Password"
passwordLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
passwordLabel.TextScaled = true

local passwordInput = Instance.new("TextBox", passwordFrame)
passwordInput.Size = UDim2.new(0.8, 0, 0.2, 0)
passwordInput.Position = UDim2.new(0.1, 0, 0.3, 0)
passwordInput.PlaceholderText = "Enter password"
passwordInput.TextColor3 = Color3.fromRGB(0, 0, 0)
passwordInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

local passwordButton = Instance.new("TextButton", passwordFrame)
passwordButton.Size = UDim2.new(0.8, 0, 0.2, 0)
passwordButton.Position = UDim2.new(0.1, 0, 0.6, 0)
passwordButton.Text = "Submit"
passwordButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)

-- Points Adjustment Tab (Hidden Initially)
local sideTab = Instance.new("Frame", screenGui)
sideTab.Size = UDim2.new(0.3, 0, 1, 0)
sideTab.Position = UDim2.new(1, 0, 0, 0)  -- Position it offscreen initially
sideTab.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
sideTab.Visible = false  -- Hide the side tab initially

local pointsLabel = Instance.new("TextLabel", sideTab)
pointsLabel.Size = UDim2.new(1, 0, 0.2, 0)
pointsLabel.Text = "Set Kills & Total Kills"
pointsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
pointsLabel.TextScaled = true

local killsInput = Instance.new("TextBox", sideTab)
killsInput.Size = UDim2.new(0.8, 0, 0.2, 0)
killsInput.Position = UDim2.new(0.1, 0, 0.3, 0)
killsInput.PlaceholderText = "Enter Kills"
killsInput.TextColor3 = Color3.fromRGB(0, 0, 0)
killsInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

local totalKillsInput = Instance.new("TextBox", sideTab)
totalKillsInput.Size = UDim2.new(0.8, 0, 0.2, 0)
totalKillsInput.Position = UDim2.new(0.1, 0, 0.6, 0)
totalKillsInput.PlaceholderText = "Enter Total Kills"
totalKillsInput.TextColor3 = Color3.fromRGB(0, 0, 0)
totalKillsInput.BackgroundColor3 = Color3.fromRGB(255, 255, 255)

local setPointsButton = Instance.new("TextButton", sideTab)
setPointsButton.Size = UDim2.new(0.8, 0, 0.2, 0)
setPointsButton.Position = UDim2.new(0.1, 0, 0.9, 0)
setPointsButton.Text = "Set Points"
setPointsButton.BackgroundColor3 = Color3.fromRGB(0, 255, 0)

-- Password Validation
local correctPassword = "password123"  -- Set your password here

passwordButton.MouseButton1Click:Connect(function()
    if passwordInput.Text == correctPassword then
        -- Hide Password GUI and Show Points Tab
        passwordFrame.Visible = false
        sideTab.Visible = true

        -- Slide the side tab into view
        sideTab:TweenPosition(UDim2.new(0.7, 0, 0, 0), "Out", "Sine", 0.5, true)
    else
        passwordInput.Text = ""  -- Clear input if wrong password
        passwordInput.PlaceholderText = "Incorrect password. Try again."
    end
end)

-- Points Set Functionality
setPointsButton.MouseButton1Click:Connect(function()
    local kills = tonumber(killsInput.Text)
    local totalKills = tonumber(totalKillsInput.Text)

    -- Check for valid Kills input
    if kills and kills >= 0 then
        -- Ensure leaderstats folder exists and Kills stat exists
        if player:FindFirstChild("leaderstats") then
            local leaderstats = player.leaderstats
            local killsStat = leaderstats:FindFirstChild("Kills")

            if killsStat then
                killsStat.Value = kills  -- Set the Kills
                killsInput.Text = ""  -- Clear input
                print("Kills set to " .. kills)
            else
                -- If Kills stat is missing, print an error
                killsInput.Text = ""
                killsInput.PlaceholderText = "No Kills stat found"
                print("Error: No Kills stat found.")
            end
        else
            -- If leaderstats is missing, print an error
            killsInput.Text = ""
            killsInput.PlaceholderText = "No leaderstats found"
            print("Error: No leaderstats found.")
        end
    else
        killsInput.Text = ""
        killsInput.PlaceholderText = "Enter a valid number for Kills"
        print("Invalid Kills input.")
    end

    -- Check for valid Total Kills input
    if totalKills and totalKills >= 0 then
        -- Ensure Total Kills stat exists
        if player:FindFirstChild("leaderstats") then
            local leaderstats = player.leaderstats
            local totalKillsStat = leaderstats:FindFirstChild("Total Kills")

            if totalKillsStat then
                totalKillsStat.Value = totalKills  -- Set the Total Kills
                totalKillsInput.Text = ""  -- Clear input
                print("Total Kills set to " .. totalKills)
            else
                -- If Total Kills stat is missing, print an error
                totalKillsInput.Text = ""
                totalKillsInput.PlaceholderText = "No Total Kills stat found"
                print("Error: No Total Kills stat found.")
            end
        else
            -- If leaderstats is missing, print an error
            totalKillsInput.Text = ""
            totalKillsInput.PlaceholderText = "No leaderstats found"
            print("Error: No leaderstats found.")
        end
    else
        totalKillsInput.Text = ""
        totalKillsInput.PlaceholderText = "Enter a valid number for Total Kills"
        print("Invalid Total Kills input.")
    end
end)

-- Ensure leaderstats and Kills & Total Kills are created for the player when they join
game.Players.PlayerAdded:Connect(function(player)
    -- Create leaderstats folder for the player
    local leaderstats = Instance.new("Folder")
    leaderstats.Name = "leaderstats"
    leaderstats.Parent = player

    -- Create the Kills stat
    local kills = Instance.new("IntValue")
    kills.Name = "Kills"
    kills.Value = 0  -- Default Kills, you can set this to any value
    kills.Parent = leaderstats

    -- Create the Total Kills stat
    local totalKills = Instance.new("IntValue")
    totalKills.Name = "Total Kills"
    totalKills.Value = 0  -- Default Total Kills, you can set this to any value
    totalKills.Parent = leaderstats
end)
